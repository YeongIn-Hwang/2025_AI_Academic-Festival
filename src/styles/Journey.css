/* =========================
   기본 레이아웃 (헤더 제거 버전)
   ========================= */

:root{
    --topbar-h: 0px; /* 상단 헤더 없음 */
}

/* 페이지 래퍼 */
.jr-wrap{
    display: block;
    min-height: 100vh;
    background: #f7f7f8;
    position: relative;
}

/* 메인 */
.jr-main{
    background: #fff;
}

/* 공통 제목/텍스트 유틸 */
.jr-header-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:10px;
    flex-wrap:wrap;
    gap:8px;
}
.jr-title-lg{
    font-size:28px;
    font-weight:700;
    margin-left: 35px;
    margin-bottom:10px;
}
.jr-subtle{ color:#666; }

/* =========================
   버튼 기본 (타임라인 내부용 작은 버튼들)
   ========================= */
.btn{
    padding:12px 14px; border-radius:12px; border:none; background:#111; color:#fff; cursor:pointer; font-weight:700;
}
.btn-ghost{ padding:12px 14px; border: none; background:#fff; cursor:pointer; }
.btn-primary{ background:none; border-radius:30px; color:black; }
.btn-primary_main {
    width:100%;
    background-color: #3884FF;
    color: #fff;
    padding: 12px 20px;
    border-radius: 10px;
    border: none;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease;
    margin-top: 20%;
}
.ev-card .btn-delete {
    position: absolute;
    right: 20px;
    height: 22px;
    bottom:42px;
    line-height: 22px;
    padding: 0 8px;               /* 세로 패딩 제거 → 얇게 */
    border:1px solid #ef4444!important;
    background:none;
    color:#991b1b;

    border-radius: 999px;
    font-size: 11px;
    cursor: pointer;
    z-index: 15;
    margin: 0 !important;
}

/* 카드 안 분할 버튼 위치/두께 조정 - 기존 .btn-split 덮어쓰기 */
.ev-card .btn-split {
    position: absolute;
    right: 20px;
    bottom:42px;         /* ⬆ 숫자 키우면 더 위로 올라감 (예: 18px) */

    /* 세로 두께(얇게) */
    height: 22px;         /* 버튼 높이 고정 */
    line-height: 22px;    /* 글자 세로 중앙정렬 */
    padding: 0 8px;       /* 좌우만 패딩, 세로 패딩 제거 */

    /* 기존 스타일 유지 + 필요시 살짝 보라 느낌 */
    border: 1px solid #7c3aed;
    background: #fff;
    color: #5b21b6;
    border-radius: 999px;
    font-size: 11px;
    cursor: pointer;
    z-index: 15;
}


.trip-summary{
    display:flex;
    align-items:baseline;
    gap:12px;
    padding: 18px 4px 8px;
}
.trip-place{
    font-size:25px;
    font-weight:800;
    color:#0f172a;
}
.trip-dates{
    font-size:14px;
    color:#475569;
}

/* =========================
   2분할 스테이지
   ========================= */

.jr-stage-flex{
    display: flex;
    align-items: stretch;
    gap: 10px;
    min-height: 100vh;
}

/* 가운데 메인 카드 */
.jr-stage-card{
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    background:#fff;
    border:none;
    padding:10px;
    height: 100vh;               /* 화면 전체 높이 */
    overflow-y: auto;            /* 내용 길면 세로 스크롤 */
    overflow-x: hidden;          /* 가로 스크롤 방지 */
    min-height: 0;               /* flex 자식 스크롤 막힘 방지 */
    min-width: 0;                /* (옵션) 내용 가로 넘침 방지 */
    margin-right: -12px;
}

/* 오른쪽 비어있는 컬럼 */
.jr-right-empty{
    flex: 0 0 520px;
    background: transparent;
    border: none;
}
@media (max-width: 1100px){
    .jr-right-empty{ flex-basis: 320px; }
}
@media (max-width: 900px){
    .jr-right-empty{ display: none; }
}

/* =========================
   카드/컨테이너 & 패널
   ========================= */
.jr-note{ margin-bottom:10px; color:#444; }
.placeholder{
    border:1px dashed #ccc; border-radius:12px; padding:24px; text-align:center; color:#888; background:#fafafa;
}
.day-block{
    background:#fff;
    border:none;
    padding:5px;
    width:80%;
}
.day-header {
    display: flex;
    align-items: baseline;
    gap: 8px;
    margin-bottom: 8px;
    flex-wrap:nowrap;
}
.day-num {
    font-weight: 800;
    font-size: 18px;
    color: #111;
    white-space:nowrap;         /* 공백/개행 있어도 줄바꿈 금지 */
    word-break:keep-all;
}
.day-date {
    font-weight: 600;
    color: #444;
    white-space:nowrap;         /* 공백/개행 있어도 줄바꿈 금지 */
    word-break:keep-all;
}
.day-wd {
    color: #888;
    font-size: 15px;
}

/* 후보 패널 */
.panel{
    border:1px solid #eee;
    background:#fff;
    border-radius:12px;
    padding:17px;
    margin-top:20px;
    margin-bottom:10px;
    height:fit-content;
    max-height:520px;
    overflow:hidden;
    display:flex;
    flex-direction:column;
    position:sticky;
    top:24px;
}

.fw-700{
    font-weight: 700;
    font-size: 20px;
    padding: 10px;

}
.panel-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:8px;
}
.panel-close{
    border:1px solid #e5e7eb; background:#f9fafb; border-radius:30px; padding:5px 15px; cursor:pointer; color: rgba(117, 116, 116, 0.4);
}
.panel-label{
    display:block;
    font-size:12px;
    color:#555;
    margin-bottom:7px;
    padding-left: 8px;
    margin-top: 3px;
    font-weight:800;
}

.panel-count{
    display:block;
    font-size:12px;
    color:#555;
    margin-bottom:5px;
    padding-left: 8px;
    margin-top: 9px;
    font-weight:800;
}

.panel-list{ overflow-y:auto; padding:2px; display:grid; gap:8px; }
.panel-item{
    text-align:left; border:1px solid #e5e7eb; background:#fff; border-radius:10px; padding:10px 12px; cursor:pointer; position:relative;
}
.panel-item-top{ display:flex; justify-content:space-between; gap:8px; align-items:baseline; }
.panel-item-name{
    font-weight:700; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:75%; color:#111;
}
.panel-item-mid{ display:flex; align-items:center; gap:8px; margin-top:4px; }
.panel-text-sm{ font-size:12px; color:#777; }
.panel-vicinity{ margin-top:4px; font-size:12px; color:#6b7280; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.panel-scores{ margin-top:6px; font-size:11px; color:#6b7280; }
.panel-detail-btn{
    position:absolute;
    top:13px;
    right:14px;
    font-size:11px;
    border:none;
    background:#3b82f6;
    color:#fff;
    border-radius:999px;
    padding:4px 13px;
    cursor:pointer;
    line-height:1.6;
    z-index:10;
}

.jr-input {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 100%;
    padding-right: 32px; /* 아이콘 들어갈 공간 확보 */
    box-sizing: border-box;
}

/* 커스텀 아이콘 */
.jr-select-icon-2 {
    position: absolute;
    top: 155px;
    right: 25px;
    transform: translateY(90%);
    pointer-events: none; /* 클릭 막기 */
    font-size: 24px;
    color: #555; /* 색상은 필요에 맞게 */
}

/* =========================
   타임라인 (가로 스크롤)
   ========================= */
.tl-scroll{
    height: 100%;
    overflow-x: auto;
    overflow-y: auto;
    margin-left: 10px;
    margin-top: 20px;
}

.tl-day-list{
    display:flex;
    overflow-x:auto;
    padding-bottom:8px;
}

/* 한 날짜 블럭 안의 레이아웃: 세로축 + 카드 */
.tl-row{
    position:relative;
    display:flex;
    gap:16px;
    align-items:flex-start;
    margin-top: 25px;
}
.tl-axis{
    position:relative;
    height: 100%;
}
.axis-line{
    position:absolute;
    left: calc(50% - 1px);
    top: 0;
    bottom: 0;
    width: 2px;
    background: #e5e7eb; /* 회색 세로 라인 */
    border-radius: 2px;
}
.axis-bullet{
    position:absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 22px;
    height: 22px;
    line-height: 22px;
    text-align: center;
    color: #fff;
    font-weight: 800;
    font-size: 12px;
    border-radius: 999px;
    box-shadow: 0 1px 2px rgba(0,0,0,.12);
    z-index: 2;
}

/* 1) 선: 얇게, 스태킹 컨텍스트 만들지 않음 (z-index 제거) */
.axis-span{
    position: absolute;
    left: calc(50% - 2px);
    width: 4px;
    background: #d1d5db;
    border-radius: 2px;
    cursor: ns-resize;
}

/* 2) 핸들: 선보다 크게(히트영역), 최상단으로 올림 */
.axis-handle{
    position: absolute;
    left: -10px;
    right: -10px;
    height: 16px;
    background: transparent;
    cursor: ns-resize;
    z-index: 50;                /* 카드/다른 요소보다 위 */
}
.axis-handle-top{ top: -7px; }
.axis-handle-bottom{ bottom: -7px; }

/* 3) 드래그 중 텍스트 선택 방지 */
body.dragging, body.dragging *{
    user-select: none !important;
    cursor: ns-resize !important;
}

/* 4) 번호 원(동그라미)은 항상 보이되, 클릭은 통과시킴 */
.axis-label,
.slot-index,
.slot-index-dot{
    position: relative;
    z-index: 60;                /* 시각적으로 위 */
    pointer-events: none;       /* 이벤트는 아래 핸들로 전달 */
    background: #fff;           /* 필요 시 선 가림 */
    border-radius: 999px;
}

/* (참고) 카드가 z-index를 강하게 갖고 있다면 낮춰주세요 */
.slot-card, .tl-slot{
    z-index: 10;
}

/* 세로 라인 자체는 아래로 */
.axis-line{
    z-index: 1;
}

/* 카드 컬럼 */
.tl-cards{
    position:relative;
    height: 100%;
    overflow-y: auto;
    padding-right: 4px;       /* 스크롤바 공간 */

}

.ev-card,
.ev-card.is-locked{
  position:absolute;
  left: 0;
  right: 0;
  background:#fff;
  border: none;
  display: inline-block;
  align-items:stretch;
  gap: 10px;
  padding: 4px 4px;

  /* 기존 높이 정책 유지 */
  min-height: 70px;
  max-height: 160px;

  box-sizing: border-box;
  z-index: 5;
  transform: translateY(-12px);
}

.ev-left{
  flex: 0 0 96px;          /* ← 필요하면 90~120 사이로 조절 */
  display:flex;
  align-items: flex-start;
  justify-content: flex-start;
  border-right: 1px solid #eee;
  padding-right: 8px;
}

/* 오른쪽: 타입 + 이름 유동폭 */
.ev-right{
  flex: 1 1 auto;
  min-width: 0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap: 4px;
    margin-top: 10px;
  overflow:hidden;          /* 긴 제목 말줄임 */
}


/* 카드 내부 3줄 레이아웃 (시간 / 타입 / 이름) */
.ev-body{
  display:flex;
  flex-direction:column;
  height:100%;
  gap:0;
}

/* 각 줄이 카드 전체 높이의 1/3을 차지 */
.ev-row{
  flex:1 1 0;
  display:flex;
  align-items:center;
  overflow:hidden;
  white-space:nowrap;
  text-overflow:ellipsis;
  line-height:1;     /* 줄 간 여백 최소화 */
}

/* 폰트는 카드 높이(--card-h)에 비례해 자동 축소/확대 */
.ev-time{
  font-weight: 800;
  text-align: center;
  line-height: 1.15;
  font-size: clamp(14px, calc(var(--card-h, 100px) / 4), 18px);
  color: #0f172a;
}

.ev-type{
  font-weight: 700;
    padding-left: 10px;
    margin-top: 2px;
  font-size: clamp(12px, calc(var(--card-h, 100px) / 6), 15px);
}

.ev-title{
  font-weight: 700;
  color: #0f172a;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
    margin-top: 2px;
  font-size: clamp(13px, calc(var(--card-h, 100px) / 4.3), 17px);
}

.ev-name{
  font-size: clamp(10px, calc(var(--card-h, 48px) / 6), 14px);
  font-weight: 700;
  color:#0f172a;
}

.ev-card.is-empty{
    opacity: .85;
    border:none;
}

.ev-body{
    flex:1;
    min-width: 0;
}

.ev-sub{
    margin-top: 0px;
    font-size: 14px;
    color: #64748b;
    display: flex;
    flex-direction: column;  /* ✅ 세로 쌓기 */
    align-items: flex-start; /* 왼쪽 정렬 */
    gap:6px;
}

.jr-mini-sidenav{
    flex: 0 0 180px;
    padding: 12px 10px 12px 12px;
    background: #f8fafc;
    border-right: 1px solid #eef0f3;
    height: 100vh;
    position: sticky;
    top: 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.Journey-logo{
    border:none;
    background-color: transparent;
    cursor: pointer;
    color: black;
    font-weight: Bold;
    font-size: 27px;
    margin-top: 15px;
}
.mini-list{
    flex: 1 1 auto;
    overflow-y: auto;
    margin-top: 15%;
    align-items: center;
    padding: 0px 7px;
}
.mini-btn{
    width: 100%;
    text-align: center;
    border: 1px solid #e5e7eb;
    background: #fff;
    color: #111;
    border-radius: 12px;
    padding: 20px 12px;
    font-weight: 700;
    cursor: pointer;
    margin-bottom: 20px;
    transition: background .15s ease, border-color .15s ease, transform .03s ease, box-shadow .15s ease;
}
.mini-btn:hover{ background: #f9fafb; border-color: #d1d5db; }
.mini-btn.is-active{
    border-color: #3884FF;
    background-color: #3884FF;
    color: #fff;
    box-shadow: 0 0 0 2px rgba(56,132,255,0.12) inset;
}
.mini-daynum{
    display: block;
    align-items: center;
    font-size: 14px;
    line-height: 1.2;
}

/* 하단 액션 버튼 그룹 */
.mini-actions{
    flex: 0 0 auto;
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    border-top: 1px dashed #e5e7eb;
    padding: 10px 7px !important;
    margin-bottom: 2px;
}

.mini-act span {
    display: inline-block;         /* inline-flex → inline-block */
    white-space: nowrap;           /* 줄바꿈 금지 */
    word-break: keep-all;          /* 한국어 글자 단위 줄바꿈 방지 */
    flex: 0 0 auto;                /* 줄어들지 않음 */
    line-height: 1.4;
    text-align: center;
    padding: 0 8px;
}

.mini-act {
    width: 100%;
    border: none;
    background: #b8b7b7;
    border-radius: 12px;
    padding: 14px 30px;

    display: inline-flex;                  /* Flex 레이아웃 */
    justify-content: space-between; /* 좌-우 끝으로 배치 */
    align-items: center;            /* 세로 중앙 정렬 */

    font-weight: 700;
    cursor: pointer;
    color: white;
    transition: color .15s ease, transform .03s ease;
}

.ev-card.is-selected {
  outline: 3px dashed #f59e0b;
  outline-offset: 2px;
}

/* 기존 클래스가 남아 있어도 외형 변화 없도록 무력화 */
.mini-act.primary,
.mini-act.danger-outline,
.mini-act.ghost{
    border: none !important;
    background: #b8b7b7;
    color: #fff;
    padding: 14px 30px;
}

.mini-act.active-outline,
.mini-act.active,
.mini-act.ghost.active{
    padding:14px 16px;
    color: white;
    background-color: black;
}

/* 활성화 컬러만 바꾸는 유틸 클래스들 */
.mini-act.is-red{  color: white;  background-color: #ef4444; padding:14px 16px!important; }  /* 삭제 모드 */
.mini-act.is-purple{ color: white; background-color: #7c3aed; padding:14px 16px!important;}  /* 분할 모드 */
.mini-act.is-yellow{ color: white; background-color: #f59e0b; padding:14px 16px!important;}  /* 병합 모드 */


/* 반응형: 폭 작아지면 사이드 숨김 */
@media (max-width: 1000px){
    .jr-mini-sidenav{ display: none; }
}

/* 오른쪽 지도 패널: 세로 100vh 고정 */
.jr-right-map {
    position: relative !important; /* 혹시 inline style이 있어도 보완 */
    height: 100vh;                 /* 뷰포트 높이 꽉 채우기 */
    min-height: 100vh;
}

/* 지도 DOM: 상하 여백 없이 꽉 채우기 (inline height: calc(...) 무력화) */
#mapMain {
    height: 100vh !important;  /* 헤더 높이만큼 빼던 inline 스타일을 덮어씀 */
    width: 100% !important;
    filter: brightness(0.80); /* 0.90~0.98 사이로 조절 */
}

/* 상단 헤더(“지도 미리보기” + 일차 버튼)를 지도 위로 겹치기 */
.jr-right-map > div:first-child {
    position: absolute;
    top: 12px;
    left: 12px;
    right: 12px;
    z-index: 1;

}

/* 필요 시 버튼 그룹이 너무 붙어 보이면 여유 간격 */
.jr-right-map > div:first-child .jr-chip {
    /* 프로젝트 기본 스타일과 충돌 없으면 유지, 불필요하면 삭제 가능 */
}

/* ===== 모달(전체화면 팝업) ===== */
.modal-overlay{
    position: fixed;
    inset: 0;                          /* top/right/bottom/left: 0 */
    background: rgba(0,0,0,0.45);      /* 뒤 화면 어둡게 */
    z-index: 2000;                     /* 지도/FAB(1100)보다 높게 */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;                     /* 가장자리 여백 */
}

/* 바디 스크롤 잠금 */
body.modal-open{
    overflow: hidden;
}

/* 패널을 팝업 카드로 오버라이드 */
.panel--modal{
    position: relative;  /* sticky 해제 */
    padding: 16px !important;
    top: auto;
    margin: 0;
    width: min(860px, 92vw);
    max-height: min(80vh, 900px);
    overflow: auto;      /* 내부 스크롤 */
    box-shadow: 0 20px 60px rgba(0,0,0,.35);
    border: 1px solid rgba(0,0,0,.08);
    background: #fff !important;   /* ← 이 줄 추가/수정 */
}

/* 팝업 안 닫기 버튼(선택 사항) */
.panel--modal .panel-close{
    position: absolute;
    top: 10px;
    right: 12px;
}

/* 기본: 전체 일정 보기일 때(지도 고정 폭) */
.jr-right-map {
    flex: 0 0 720px;   /* ← 기존 720px 역할 */
    min-width: 420px;
}

/* 단일 일차 보기일 때: 타임라인 좁게, 지도 넓게 */
.jr-stage-flex.is-singleday .jr-stage-card {
    flex: 0 0 470px;   /* 타임라인 폭(원하는 값으로 조절: 480~600 추천) */
    max-width: 470px;
}
.jr-stage-flex.is-singleday .jr-right-map {
    flex: 1 1 auto;    /* 나머지 가로 공간을 전부 차지 */
    min-width: 560px;  /* 너무 좁아지지 않도록 안전망 */
}

/* 잠금 카드도 일반 카드와 동일하게 '수평' 텍스트 강제 */
.ev-card.is-locked,
.ev-card.is-locked * {
    writing-mode: horizontal-tb !important;
    text-orientation: mixed !important;
    white-space: normal;         /* 줄바꿈 허용 */
    transform: none;             /* 혹시 회전이 있었다면 무력화 */
}

/* 레이아웃은 그대로(block) — 텍스트만 수평 */
.ev-card.is-locked {
    display: block;              /* 기존 정책 유지 */
    /* 시각 효과만 원하면 여기서만 조절: opacity, cursor 등 */
    /* opacity: .85; cursor: not-allowed; 등 */
}

/* 텍스트 유닛들이 수평으로 흘러가도록 한번 더 안전망 */
.ev-card.is-locked .ev-row,
.ev-card.is-locked .ev-type,
.ev-card.is-locked .ev-title,
.ev-card.is-locked .ev-time,
.ev-card.is-locked .ev-name {
    writing-mode: horizontal-tb !important;
    white-space: nowrap;         /* 한 줄 유지 + */
    overflow: hidden;            /* 넘치면 말줄임 */
    text-overflow: clip !important;
}

/* ==== 얇은 스크롤 공통 적용 ==== */
/* Firefox */
.jr-stage-card,
.tl-scroll,
.tl-cards,
.panel-list,
.mini-list {
    scrollbar-width: thin;                 /* auto | thin | none */
    scrollbar-color: #cbd5e1 transparent;  /* thumb, track */
}

/* Chrome / Safari / Edge (WebKit 계열) */
.jr-stage-card::-webkit-scrollbar,
.tl-scroll::-webkit-scrollbar,
.tl-cards::-webkit-scrollbar,
.panel-list::-webkit-scrollbar,
.mini-list::-webkit-scrollbar {
    width: 6px;    /* 세로 스크롤 두께 */
    height: 6px;   /* 가로 스크롤 두께 */
}

.jr-stage-card::-webkit-scrollbar-thumb,
.tl-scroll::-webkit-scrollbar-thumb,
.tl-cards::-webkit-scrollbar-thumb,
.panel-list::-webkit-scrollbar-thumb,
.mini-list::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 999px;
}

.jr-stage-card::-webkit-scrollbar-track,
.tl-scroll::-webkit-scrollbar-track,
.tl-cards::-webkit-scrollbar-track,
.panel-list::-webkit-scrollbar-track,
.mini-list::-webkit-scrollbar-track {
    background: transparent;  /* 필요하면 #f1f5f9 등으로 */
}


